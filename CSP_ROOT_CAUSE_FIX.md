# üéØ –ù–ê–ô–î–ï–ù–ê –ò –ò–°–ü–†–ê–í–õ–ï–ù–ê –ö–û–†–ù–ï–í–ê–Ø –ü–†–ò–ß–ò–ù–ê CSP

## ‚ùå –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞
CSP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—ã–ª–∏ –≤ **–¢–†–ï–•** —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö, –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞–ª–∏ –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º:

1. `vite.config.ts` - Server headers (–Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏ –≤ dev —Ä–µ–∂–∏–º–µ)
2. `index.html` - –ú–µ—Ç–∞-—Ç–µ–≥–∏ CSP ‚ùå **–ë–ï–ó localhost:3002**
3. `src/components/SecurityHeaders.tsx` - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ CSP ‚ùå **–ë–ï–ó localhost:***

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. `index.html` (—Å—Ç—Ä–æ–∫–∞ 10)
**–ë—ã–ª–æ:**
```html
connect-src 'self' https://sgzlhcagtesjazvwskjw.supabase.co https://api.stripe.com...
```
**–°—Ç–∞–ª–æ:**
```html
connect-src 'self' http://localhost:* https://sgzlhcagtesjazvwskjw.supabase.co https://api.stripe.com https://*.stripe.com...
```

### 2. `src/components/SecurityHeaders.tsx` (—Å—Ç—Ä–æ–∫–∞ 11)
**–ë—ã–ª–æ:**
```typescript
"connect-src 'self' https://*.supabase.co https://api.openai.com..."
```
**–°—Ç–∞–ª–æ:**
```typescript
"connect-src 'self' http://localhost:* https://*.supabase.co https://api.openai.com..."
```

## üöÄ –¢–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É!

**–ù–ï –ù–£–ñ–ù–û –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å —Å–µ—Ä–≤–µ—Ä—ã** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

1. **–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É** (F5 –∏–ª–∏ Ctrl+R)
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∫—É–ø–∫—É
3. CSP –æ—à–∏–±–∫–∏ –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å!

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
- ‚úÖ "üåê Using API URL: http://localhost:3002/..."
- ‚úÖ "‚úÖ Checkout session created via Express server"
- ‚úÖ –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ Stripe checkout

–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- ‚ùå "Refused to connect to 'http://localhost:3002'"
- ‚ùå "Content Security Policy directive"

## üéØ –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã
`SecurityHeaders.tsx` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ React –∏ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—Ç CSP –∏–∑ `index.html`. –ü–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ–±–∞ –º–µ—Å—Ç–∞.

–¢–µ–ø–µ—Ä—å –≤—Å–µ —Ç—Ä–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ CSP —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–∑—Ä–µ—à–∞—é—Ç `localhost:*`! üéâ